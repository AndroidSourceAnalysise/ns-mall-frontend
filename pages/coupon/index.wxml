<!--pages/coupon/index.wxml-->
<view class="container coupon-center">
  <view class="filter-area common-border-bottom" bindtap="filterCoupon">
    <text data-filter-type="3" class="{{curFilterType === 3 ? 'active-filter' : ''}}">待领取</text>
    <text data-filter-type="0" class="{{curFilterType === 0 ? 'active-filter' : ''}}">已领取</text>
    <text data-filter-type="2" class="{{curFilterType === 2 ? 'active-filter' : ''}}">已失效</text>
  </view>
  <view class="coupon-list">
    <view class="coupon-item" wx:for="{{couponList}}" wx:key="{{item.id}}">
      <view class="coupon-name-wrap">
          <text class="coupon-type">{{item.type_str}}</text>
          <text class="coupon-name">{{item.discount_amount}}<text class="unit">元</text></text>
      </view>
      <view class="coupon-info">
        <text class="coupon-discount" wx:if="{{item.coupon_type != 0}}">满{{item.safety_amount}}减{{item.discount_amount}}</text>
        <text class="coupon-discount" wx:else>立减{{item.discount_amount}}</text>
        <text class="term-valid">{{item.start_dt}}-{{item.end_dt}}</text>
      </view>
      <text class="operate-btn" data-coupon-id="{{item.id}}" data-idx="{{index}}" bindtap="receiveCoupon" wx:if="{{item.status == 3}}">立即领取</text>
    </view>
  </view>
</view>
